# 常见问题解答 (FAQ)

> **文件说明**：本文档收集了在使用 Cursor Rules 规范体系过程中遇到的常见问题和解决方案，包括以下内容：
> - 基础问题（什么是 Cursor Rules、如何开始使用、规范体系结构）
> - 规范使用问题（如何选择合适的规范、规范冲突处理、规范更新）
> - AI 编程问题（AI 生成代码质量、提示词优化、AI 理解规范）
> - 代码生成问题（代码模板使用、代码审查、代码质量保证）
> - 团队协作问题（规范推广、团队培训、规范维护）
> - 技术问题（Spring Boot 相关、数据库设计、API 设计）
> - 最佳实践（开发流程、代码审查、持续改进）
> 
> 建议在遇到问题时先查阅此文档，如果问题未涵盖，可以向团队反馈。

# 常见问题解答 (FAQ)

## 基础问题

### Q1: 什么是 Cursor Rules？
A: Cursor Rules 是一套为 AI 辅助编程设计的开发规范体系，旨在确保 AI 生成的代码符合项目标准，提高开发效率和代码质量。

### Q2: 为什么需要 Cursor Rules？
A: 在 AI 辅助编程时代，需要建立标准化的开发规范来确保：
- 代码一致性和可维护性
- AI 生成代码的质量
- 团队协作效率
- 知识传承和最佳实践固化

### Q3: 哪些项目适合使用 Cursor Rules？
A: 主要适用于：
- 基于 Spring Boot 的企业级应用
- Web 应用和 API 服务项目
- 微服务架构项目
- 需要 AI 辅助开发的项目

## 使用问题

### Q4: 如何在 Cursor 中加载这些规则？
A: 有几种方式：
1. **全局规则**：将 `cursor-rules/` 目录复制到用户主目录下的 `.cursor/` 文件夹
2. **项目规则**：在项目根目录创建 `.cursorrules` 文件，引用相关规则
3. **团队规则**：在团队共享的代码仓库中维护规则文件

### Q5: 如何自定义规则？
A: 可以：
1. 修改现有规则文件
2. 添加项目特定的规则
3. 创建新的模板文件
4. 更新检查清单

### Q6: 规则文件太多，如何快速找到需要的？
A: 建议：
1. 先阅读 `00-introduction.md` 了解整体结构
2. 根据开发阶段选择相关章节
3. 使用 IDE 的搜索功能快速定位
4. 参考目录结构快速导航

## 开发问题

### Q7: AI 生成的代码不符合规范怎么办？
A: 可以：
1. 使用 `07-ai-coding-guidelines/` 中的提示词模板
2. 参考 `anti-patterns-to-avoid.md` 中的错误模式
3. 使用 `review-checklist.md` 进行检查
4. 提供正确的示例给 AI

### Q8: 如何确保 AI 生成完整的代码？
A: 在提示词中明确要求：
1. 包含所有必要的导入语句
2. 添加所有必要的注解
3. 包含完整的异常处理
4. 添加必要的日志记录
5. 使用统一的响应格式

### Q9: 如何处理 AI 生成的代码中的安全问题？
A: 参考 `06-code-quality/security-basics.md`：
1. 验证所有外部输入
2. 使用参数化查询防止 SQL 注入
3. 对输出进行转义防止 XSS
4. 验证用户权限
5. 保护敏感信息

### Q10: AI 生成的代码性能不好怎么办？
A: 参考 `06-code-quality/performance-tips.md`：
1. 避免 N+1 查询问题
2. 使用批量操作
3. 合理使用缓存
4. 优化 SQL 查询
5. 使用异步处理

## 技术问题

### Q11: 如何处理循环依赖问题？
A: 参考 `02-spring-boot-guidelines/bean-management.md`：
1. 重构设计，提取公共服务
2. 使用 `@Lazy` 注解
3. 使用 `ApplicationContext` 获取 Bean
4. 重新设计类之间的依赖关系

### Q12: 事务不生效怎么办？
A: 检查以下问题：
1. 是否使用了 `@Transactional` 注解
2. 是否在同一个类中自调用
3. 是否捕获了异常导致回滚失效
4. 是否正确配置了事务管理器

### Q13: 如何优化数据库查询性能？
A: 参考相关规范：
1. 添加适当的索引
2. 使用批量查询避免 N+1 问题
3. 优化 SQL 语句
4. 使用连接池
5. 考虑读写分离

### Q14: 如何处理异常？
A: 参考 `05-service-layer/exception-handling.md`：
1. 使用全局异常处理器
2. 区分业务异常和系统异常
3. 返回用户友好的错误信息
4. 记录详细的错误日志
5. 使用统一的错误码体系

## 最佳实践问题

### Q15: 如何设计好的 API？
A: 参考 `03-api-design/` 章节：
1. 遵循 RESTful 规范
2. 使用统一的响应格式
3. 添加完整的 API 文档
4. 进行参数验证
5. 考虑版本控制

### Q16: 如何编写可维护的代码？
A: 遵循以下原则：
1. 单一职责原则
2. 开闭原则
3. 依赖倒置原则
4. 接口隔离原则
5. 里氏替换原则

### Q17: 如何提高代码质量？
A: 参考 `06-code-quality/` 章节：
1. 编写完整的单元测试
2. 使用静态分析工具
3. 进行代码审查
4. 遵循编码规范
5. 持续重构

### Q18: 如何与 AI 更好地协作？
A: 参考 `07-ai-coding-guidelines/` 章节：
1. 使用结构化的提示词
2. 提供足够的上下文信息
3. 明确输出格式要求
4. 使用代码模板
5. 进行代码审查

## 故障排查

### Q19: 应用启动失败怎么办？
A: 检查以下问题：
1. 配置文件是否正确
2. 数据库连接是否正常
3. 依赖注入是否有问题
4. 端口是否被占用
5. 日志中的错误信息

### Q20: 性能问题如何排查？
A: 使用以下方法：
1. 查看应用日志
2. 使用性能分析工具
3. 检查数据库查询
4. 分析内存使用情况
5. 监控系统资源

### Q21: 如何调试 AI 生成的代码？
A: 建议：
1. 仔细阅读生成的代码
2. 添加调试日志
3. 使用断点调试
4. 检查异常堆栈
5. 参考错误模式文档

## 团队协作问题

### Q22: 如何让团队统一使用这些规范？
A: 建议：
1. 组织团队培训
2. 在代码审查中强制执行
3. 使用自动化工具检查
4. 定期更新和优化规范
5. 建立反馈机制

### Q23: 如何处理规范冲突？
A: 建议：
1. 组织团队讨论
2. 参考行业最佳实践
3. 考虑项目实际情况
4. 记录决策过程
5. 更新相关文档

### Q24: 如何保持规范的时效性？
A: 建议：
1. 定期回顾和更新
2. 关注技术发展趋势
3. 收集团队反馈
4. 参考开源项目实践
5. 持续改进

## 其他问题

### Q25: 这些规范适用于其他技术栈吗？
A: 部分适用：
- 通用规范（命名、代码风格等）可以借鉴
- 特定技术栈的规范需要调整
- 建议根据实际技术栈定制

### Q26: 如何贡献到项目中？
A: 参考 `changelog.md` 中的贡献指南：
1. Fork 项目仓库
2. 创建功能分支
3. 提交变更
4. 发起 Pull Request

### Q27: 遇到问题如何获得帮助？
A: 可以通过以下方式：
1. 查看相关文档
2. 搜索常见问题
3. 在项目仓库中提交 Issue
4. 参与社区讨论
5. 联系维护团队

---

## 问题反馈

如果您遇到本文档未涵盖的问题，请：

1. 首先搜索现有问题
2. 查看相关文档章节
3. 在项目仓库中提交 Issue
4. 提供详细的问题描述和复现步骤
