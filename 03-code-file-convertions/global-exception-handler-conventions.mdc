---
description: 定义全局异常处理器的编码标准，包括异常映射、错误码输出和日志规范。
globs: **/src/main/java/**/exception/GlobalExceptionHandler.java
---
- 必须提供 @RestControllerAdvice 的全局异常处理类，用于统一处理所有未捕获异常。
- 必须根据错误类型映射到统一错误码（13 位字符串），遵循 design-standards/error-code-standards.mdc。
- 返回统一响应格式 CommonResponse，字段使用 code:String(13) 与 msg:String。
- 必须记录错误码、traceId、请求关键信息（不含敏感信息）。
- 必须将客户端错误（参数、认证、权限等）与服务端错误（系统、依赖超时等）区分，并映射相应 HTTP 状态码。
- 必须提供兜底异常处理（Exception.class），避免堆栈信息泄漏到响应。
- 必须提供可扩展机制，支持业务异常枚举映射。
- 进一步阅读：`01-design-standards/error-code-standards.mdc`、`03-code-file-convertions/common-response-class-conventions.mdc`