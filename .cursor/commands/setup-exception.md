# /setup-exception-handler 命令

## 命令格式
```bash
/setup-exception-handler [处理范围]
```

## 参数说明
- `[处理范围]`: 异常处理范围，支持以下选项：
  - `all`: 处理所有异常
  - `business`: 仅处理业务异常
  - `custom`: 自定义异常处理

## 功能说明
配置全局异常处理器，包括：
- 全局异常处理器类
- 异常映射和处理逻辑
- 统一错误响应格式
- 异常日志记录
- 异常监控和告警

## 生成内容

### 1. 全局异常处理器 (GlobalExceptionHandler)
- 使用`@RestControllerAdvice`注解标记
- 处理各种类型的异常
- 统一的错误响应格式
- 完整的JavaDoc注释

### 2. 异常处理方法
- 业务异常处理方法
- 系统异常处理方法
- 参数校验异常处理方法
- 认证授权异常处理方法

### 3. 错误响应格式
- 统一的错误响应结构
- 13位错误码编码
- 错误信息国际化
- 错误详情和追踪信息

### 4. 异常日志记录
- 异常日志记录配置
- 异常上下文信息
- 异常堆栈跟踪
- 异常监控和告警

### 5. 异常处理策略
- 异常分类和处理策略
- 异常恢复机制
- 异常重试策略
- 异常降级处理

## 编码规范遵循

本命令严格遵循以下编码规范文件：
- **主要规范**：`03-code-file-convertions/global-exception-handler-conventions.mdc`
- **相关规范**：`01-design-standards/error-code-standards.mdc`

**详细规范**：请参考上述规范文件获取完整要求。

## 使用示例

### 1. 处理所有异常
```bash
/setup-exception-handler all
```

### 2. 仅处理业务异常
```bash
/setup-exception-handler business
```

### 3. 自定义异常处理
```bash
/setup-exception-handler custom
```

## 异常处理范围

### 1. all - 处理所有异常
- 业务异常处理
- 系统异常处理
- 参数校验异常处理
- 认证授权异常处理
- 数据库异常处理
- 网络异常处理

### 2. business - 仅处理业务异常
- 业务规则异常处理
- 业务状态异常处理
- 业务权限异常处理
- 业务数据异常处理

### 3. custom - 自定义异常处理
- 根据项目需求自定义异常处理
- 特定业务场景异常处理
- 第三方服务异常处理
- 自定义异常分类和处理

## 异常处理器特性
1. **统一处理**: 统一的异常处理机制
2. **错误响应**: 标准化的错误响应格式
3. **日志记录**: 完整的异常日志记录
4. **监控告警**: 异常监控和告警机制
5. **可扩展**: 支持异常处理扩展和自定义

## 技术实现
- **注解**: 使用`@RestControllerAdvice`和`@ExceptionHandler`
- **响应**: 统一的错误响应格式
- **日志**: 使用SLF4J进行日志记录
- **监控**: 集成监控和告警系统
- **国际化**: 支持多语言错误信息

## 注意事项
1. 会根据处理范围生成相应的异常处理方法
2. 自动配置异常日志记录和监控
3. 包含完整的异常处理机制
4. 遵循项目的编码规范和异常处理规范
5. 生成的代码可以直接运行和测试
