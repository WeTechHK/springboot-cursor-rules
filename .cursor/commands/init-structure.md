# /init-structure 命令

## 命令格式
```bash
/init-structure [一段描述性的话]
```

## 功能说明
初始化现有项目的目录结构，根据项目类型创建相应的基础架构和配置文件。

## AI分析流程

### 1. 智能描述解析
- **提取关键信息**：从用户描述中提取项目类型、结构需求、技术栈要求
- **识别项目类型**：判断是基础项目、API项目、Web项目、微服务项目等
- **推断结构复杂度**：基于描述推断项目结构的复杂度和配置需求

### 2. 智能文档发现
- **自动扫描**：扫描项目根目录下的`docs/`目录中的架构文档、配置文档、项目文档
- **内容匹配**：基于描述内容匹配相关项目文档
- **信息提取**：从文档中提取项目需求、技术栈、架构设计等
- **文件显示**：在AI响应中显示找到的相关设计文件名，便于用户确认

### 3. 基于项目结构的智能推断
- **项目分析**：分析现有项目的目录结构、技术栈、配置情况
- **结构识别**：识别缺失的目录结构和配置文件
- **规范推断**：推断项目的目录结构规范

### 4. 项目结构规则匹配
- **规范匹配**：根据需求匹配对应的项目结构规范
- **结构策略**：应用项目结构设计模式和最佳实践
- **代码生成**：生成符合项目规范的项目结构

### 5. 主动询问机制
- **需求补全**：识别缺失或模糊的项目需求，主动询问用户
- **结构确认**：确认项目结构和配置要求
- **多轮对话**：支持多轮对话，逐步完善项目结构

## 使用示例

### 1. 简单描述
```bash
/init-structure 初始化Spring Boot项目结构
```

### 2. 详细描述
```bash
/init-structure 初始化RESTful API项目结构，包含完整的MVC分层和API文档配置
```

### 3. 业务场景描述
```bash
/init-structure 初始化用户管理系统项目结构，包含用户管理、权限管理、订单管理模块
```

### 4. 技术需求描述
```bash
/init-structure 初始化微服务项目结构，包含服务注册、配置中心、API网关
```

## AI交互示例

### 示例1：简单描述
```bash
# 用户输入
/init-structure 初始化Spring Boot项目结构

# AI响应
AI: 已解析您的描述"初始化Spring Boot项目结构"，并发现以下相关文档：

**发现的设计文档：**
- `docs/project-structure.md` - 项目结构设计文档
- `docs/spring-boot-standards.md` - Spring Boot标准文档
- `docs/architecture-design.md` - 架构设计文档

基于这些文档，将创建以下项目结构：

**推断的项目结构：**
- 标准的MVC分层架构
- 基础的配置文件和依赖
- 标准的包结构组织
- 基础的测试结构

**需要确认的信息：**
基于您的描述，我需要确认以下信息：

1. **根包名**：请按照 `com.yourcompany.appname` 格式提供根包名（如：com.example.studentmanagement）
2. 其他配置我将基于您的描述智能推断

请提供根包名，或者确认我的推断是否正确？
```

### 示例2：详细描述
```bash
# 用户输入
/init-structure 初始化RESTful API项目结构，包含完整的MVC分层和API文档配置

# AI响应
AI: 已解析您的详细描述，将初始化RESTful API项目结构：

**发现的设计文档：**
- `docs/project-structure.md` - 项目结构设计文档
- `docs/api-design-standards.md` - API设计标准文档
- `docs/spring-boot-standards.md` - Spring Boot标准文档

**解析的项目结构：**
1. 目录结构
   - src/main/java - Java源码目录
   - src/main/resources - 资源文件目录
   - src/test/java - 测试代码目录
   - 标准的MVC分层包结构

2. 配置文件
   - build.gradle - 构建配置
   - application.yml - 主配置文件
   - 环境特定配置文件
   - 日志配置文件

3. API文档配置
   - Swagger/OpenAPI配置
   - API文档注解
   - 统一响应格式
   - API版本控制

**需要确认的信息：**
基于您的详细描述，我发现以下信息：

✅ **已明确**：RESTful API项目、MVC分层、API文档配置
❓ **需要确认**：根包名格式（com.yourcompany.appname）

请提供根包名，其他配置我将基于您的描述智能配置。
```

## 生成内容

### 1. 基础目录结构
- 标准的MVC分层架构
- 规范的包结构组织
- 完整的测试结构
- 资源文件目录

### 2. 配置文件
- `build.gradle` - 构建配置
- `application.yml` - 主配置文件
- 环境特定配置文件
- 日志配置文件

### 3. 基础代码模板
- 主启动类
- 全局异常处理
- 统一响应包装类
- 基础配置类

### 4. 项目特定配置
- API文档配置
- 数据库配置
- 安全配置
- 缓存配置

### 5. 开发工具配置
- 代码格式化配置
- 静态分析配置
- 测试配置
- 部署配置

## 项目类型

### 1. 基础项目 (Basic)
- `SpringBootBasic` - 基础Spring Boot项目
- 标准的MVC分层架构
- 基础的配置文件和依赖
- 标准的包结构组织

### 2. API项目 (API)
- `RestApiProject` - RESTful API项目
- API文档配置（Swagger/OpenAPI）
- 统一的响应格式
- API版本控制

### 3. Web项目 (Web)
- `WebApplication` - Web应用项目
- 包含Web相关的配置和依赖
- 静态资源目录结构
- 视图模板配置

### 4. 微服务项目 (Microservice)
- `MicroserviceProject` - 微服务项目
- 微服务架构结构
- 服务注册与发现配置
- 配置中心集成

## 项目特性
1. **标准化**: 遵循Spring Boot最佳实践
2. **可扩展**: 支持后续功能扩展
3. **规范**: 符合项目编码规范
4. **完整**: 包含完整的项目结构
5. **可维护**: 清晰的项目结构组织

## 技术实现
- **结构**: 基于Spring Boot标准结构
- **配置**: 多环境配置文件支持
- **文档**: 完整的API文档配置
- **测试**: 完整的测试结构支持
- **工具**: 开发工具和插件配置

## 注意事项
1. AI会根据描述自动推断项目结构
2. 自动分析现有项目结构和缺失部分
3. 提供具体的项目结构初始化方案
4. 遵循项目的编码规范和架构设计
5. 生成的代码可以直接运行和测试
6. 支持多轮对话完善需求
7. 支持文档引用和智能推断
8. 支持自然语言描述

## 最佳实践建议

### 1. 描述技巧
- **具体描述**: 提供详细的项目需求描述，AI能更好地理解需求
- **关键功能**: 包含核心功能模块和技术要求
- **架构要求**: 指定架构设计和技术栈要求

### 2. 交互技巧
- **分步确认**: 先确认核心结构，再完善配置细节
- **及时反馈**: 对AI的推断及时提供反馈
- **迭代优化**: 基于初始化结果进行迭代改进

### 3. 文档使用
- **架构文档**: 在项目中维护架构文档，AI会自动发现
- **配置文档**: 维护配置文档，AI会参考生成配置
- **项目文档**: 维护项目文档，AI会参考生成项目结构