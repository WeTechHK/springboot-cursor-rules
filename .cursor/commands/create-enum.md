# /create-enum 命令

## 命令格式
```bash
/create-enum [一段描述性的话]
```

## 功能说明
创建枚举类，包括枚举值设计、方法定义、查找验证和枚举序列化配置。

## AI分析流程

### 1. 智能描述解析
- **提取关键信息**：从用户描述中提取枚举名称、枚举值、业务需求
- **识别枚举类型**：判断是状态枚举、类型枚举、权限枚举等
- **推断枚举结构**：基于描述推断合适的枚举结构和组织方式

### 2. 智能文档发现
- **自动扫描**：扫描项目根目录下的`docs/`目录中的业务文档、系统文档、枚举文档
- **内容匹配**：基于描述内容匹配相关枚举文档
- **信息提取**：从文档中提取枚举定义、业务规则、状态转换等

### 3. 基于项目结构的智能推断
- **项目分析**：分析现有项目的枚举设计风格、命名规范
- **枚举识别**：识别相关枚举和业务规则
- **规范推断**：推断项目的枚举设计规范

### 4. 枚举类规则匹配
- **规范匹配**：根据需求匹配对应的枚举类编码规范
- **设计模式**：应用枚举设计模式和最佳实践
- **代码生成**：生成符合项目规范的枚举类代码

### 5. 主动询问机制
- **枚举补全**：识别缺失或模糊的枚举需求，主动询问用户
- **值确认**：确认枚举值和命名规范
- **多轮对话**：支持多轮对话，逐步完善枚举设计

## 使用示例

### 1. 简单描述
```bash
/create-enum 订单状态枚举
```

### 2. 详细描述
```bash
/create-enum 订单状态枚举，包含待支付、已支付、已发货、已完成、已取消
```

### 3. 业务场景描述
```bash
/create-enum 用户角色枚举，包含管理员、普通用户、VIP用户、访客
```

### 4. 技术需求描述
```bash
/create-enum 支付方式枚举，包含支付宝、微信、银行卡、现金
```

## AI交互示例

### 示例1：简单描述
```bash
# 用户输入
/create-enum 订单状态枚举

# AI响应
AI: 已解析您的描述"订单状态枚举"，并发现以下相关文档：

**发现的设计文档：**
- `docs/enum-design.md` - 枚举类设计文档
- `docs/business-rules.md` - 业务规则文档
- `docs/order-status-design.md` - 订单状态设计文档

基于这些文档，OrderStatus将包含以下枚举值：

**推断的枚举值：**
- PENDING_PAYMENT - 待支付
- PAID - 已支付
- SHIPPED - 已发货
- COMPLETED - 已完成
- CANCELLED - 已取消

**需要确认的信息：**
1. 需要哪些枚举值？
2. 枚举值的具体含义？
3. 是否需要状态转换规则？
4. 是否需要枚举描述？
5. 是否需要其他相关枚举？

请提供详细信息，或者确认我的推断是否正确？
```

### 示例2：详细描述
```bash
# 用户输入
/create-enum 订单状态枚举，包含待支付、已支付、已发货、已完成、已取消

# AI响应
AI: 已解析您的详细描述，OrderStatus将包含以下枚举值：

**解析的枚举值：**
- PENDING_PAYMENT("PENDING_PAYMENT", "待支付") - 待支付状态
- PAID("PAID", "已支付") - 已支付状态
- SHIPPED("SHIPPED", "已发货") - 已发货状态
- COMPLETED("COMPLETED", "已完成") - 已完成状态
- CANCELLED("CANCELLED", "已取消") - 已取消状态

**推断的枚举结构：**
- 枚举名：全大写，下划线分隔
- 枚举值：字符串类型
- 枚举描述：中文描述
- 枚举方法：查找、验证、转换方法

**推断的枚举方法：**
- fromCode(String code) - 根据代码查找枚举
- isValid(String code) - 验证枚举值
- getDescription() - 获取枚举描述
- getNextStatus() - 获取下一个状态

**需要确认的信息：**
1. 枚举值的具体代码？
2. 是否需要状态转换方法？
3. 是否需要枚举验证方法？
4. 是否需要其他相关方法？

请确认以上信息是否正确，或者提供更多详细信息？
```

## 生成内容

### 1. 枚举类定义
- 枚举类名使用有意义的名称
- 包含所有必要的枚举值
- 完整的JavaDoc注释
- 枚举值设计合理

### 2. 枚举值定义
- 根据枚举描述生成相应枚举值
- 枚举值命名规范
- 枚举值含义明确
- 枚举值分组合理

### 3. 枚举方法
- 根据枚举值查找方法
- 枚举值验证方法
- 枚举值转换方法
- 枚举值描述方法

### 4. 枚举验证
- 枚举值验证逻辑
- 枚举值查找验证
- 枚举值转换验证
- 枚举值状态验证

### 5. 序列化配置
- 支持JSON序列化
- 支持数据库存储
- 支持枚举转换
- 支持枚举验证

## 标准枚举类型

### 1. 状态枚举
- `OrderStatus` - 订单状态
- `UserStatus` - 用户状态
- `ProductStatus` - 商品状态
- `PaymentStatus` - 支付状态

### 2. 类型枚举
- `UserType` - 用户类型
- `ProductType` - 商品类型
- `OrderType` - 订单类型
- `NotificationType` - 通知类型

### 3. 权限枚举
- `UserRole` - 用户角色
- `PermissionLevel` - 权限级别
- `AccessLevel` - 访问级别
- `OperationType` - 操作类型

### 4. 配置枚举
- `SystemConfig` - 系统配置
- `BusinessConfig` - 业务配置
- `EnvironmentConfig` - 环境配置
- `ParameterConfig` - 参数配置

## 枚举类特性
1. **枚举值设计**: 合理的枚举值设计和命名
2. **方法定义**: 完整的枚举方法定义
3. **查找验证**: 枚举值查找和验证功能
4. **序列化**: 支持JSON序列化和数据库存储
5. **可维护**: 清晰的代码结构和注释

## 技术实现
- **枚举**: 使用Java枚举类型
- **方法**: 定义枚举相关方法
- **验证**: 枚举值验证逻辑
- **序列化**: 支持JSON序列化
- **转换**: 枚举值转换功能

## 注意事项
1. AI会根据描述自动推断枚举值
2. 自动添加必要的枚举方法
3. 包含完整的枚举验证功能
4. 遵循项目的编码规范和枚举规范
5. 生成的代码可以直接运行和测试
6. 支持多轮对话完善需求
7. 支持文档引用和智能推断
8. 支持自然语言描述

## 最佳实践建议

### 1. 描述技巧
- **具体描述**: 提供详细的枚举需求描述，AI能更好地理解需求
- **关键枚举**: 包含核心业务枚举，帮助AI生成准确代码
- **值规范**: 指定枚举值和命名规范

### 2. 交互技巧
- **分步确认**: 先确认核心枚举值，再完善枚举方法
- **及时反馈**: 对AI的推断及时提供反馈
- **迭代优化**: 基于生成结果进行迭代优化

### 3. 文档使用
- **业务文档**: 在项目中维护业务文档，AI会自动发现
- **枚举文档**: 维护枚举文档，AI会参考生成枚举
- **规则文档**: 维护业务规则文档，AI会参考生成枚举值