# /create-task 命令

## 命令格式
```bash
/create-task [任务名称] [任务描述]
```

## 参数说明
- `[任务名称]`: 任务名称，用于生成任务类名
- `[任务描述]`: 任务描述，用于生成相应的任务逻辑

## 功能说明
创建定时任务类，包括：
- 任务类定义
- 定时任务配置
- 任务执行逻辑
- 异常处理机制
- 任务监控配置

## 生成内容

### 1. 任务类 (Task)
- 类名以`Task`结尾
- 使用`@Component`注解标记
- 使用`@Slf4j`注解进行日志记录
- 使用`@Scheduled`注解配置调度

### 2. 定时任务配置
- 使用`fixedDelayString`配置固定延迟
- 使用`initialDelayString`配置初始延迟
- 使用SpEL表达式配置动态时间
- 定时任务具有幂等性

### 3. 任务执行逻辑
- 根据任务描述生成相应逻辑
- 任务调度配置
- 配置管理
- 异常处理
- 性能监控

### 4. 异常处理
- 任务方法必须处理异常情况
- 异常必须记录详细的日志信息
- 异常处理必须保证系统稳定性
- 必须避免异常影响主业务流程

### 5. 性能监控
- 定时任务必须避免长时间阻塞
- 推荐使用异步处理提高性能
- 必须进行性能监控和优化
- 避免在任务中进行耗时操作

## 编码规范遵循

本命令严格遵循以下编码规范文件：
- **主要规范**：`03-code-file-convertions/task-class-conventions.mdc`

**详细规范**：请参考上述规范文件获取完整要求。

## 使用示例

### 1. 创建数据同步任务
```bash
/create-task DataSyncTask 数据同步任务，每小时同步一次用户数据
```

### 2. 创建清理任务
```bash
/create-task CleanupTask 清理任务，每天清理过期的临时文件
```

### 3. 创建统计任务
```bash
/create-task StatisticsTask 统计任务，每天生成业务统计报告
```

## 标准任务类型

### 1. 数据同步任务
- 定时同步数据
- 数据一致性保证
- 增量同步支持
- 同步状态监控

### 2. 清理任务
- 定时清理过期数据
- 文件清理
- 缓存清理
- 日志清理

### 3. 统计任务
- 定时生成统计报告
- 业务指标统计
- 性能指标统计
- 报表生成

### 4. 监控任务
- 系统健康检查
- 服务状态监控
- 资源使用监控
- 告警任务

## 任务特性
1. **定时执行**: 支持多种定时配置
2. **异常处理**: 完整的异常处理机制
3. **性能监控**: 任务执行性能监控
4. **幂等性**: 支持任务重复执行
5. **可维护**: 清晰的代码结构和注释

## 技术实现
- **注解**: 使用Spring Scheduling注解
- **配置**: 支持动态时间配置
- **监控**: 集成任务监控和告警
- **异步**: 支持异步任务处理
- **日志**: 完整的任务执行日志

## 注意事项
1. 会根据任务描述生成相应的任务逻辑
2. 自动配置定时调度参数
3. 包含完整的异常处理机制
4. 遵循项目的编码规范和任务规范
5. 生成的代码可以直接运行和测试
