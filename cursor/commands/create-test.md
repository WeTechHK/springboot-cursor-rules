# /create-test 命令

## 命令格式
```bash
/create-test [测试目标] [测试范围]
```

## 参数说明
- `[测试目标]`: 测试目标，可以是类名或模块名
- `[测试范围]`: 测试范围，支持以下选项：
  - `controller`: 控制器测试
  - `service`: 服务层测试
  - `mapper`: 数据访问层测试
  - `all`: 全模块测试

## 功能说明
创建单元测试代码，包括：
- 测试类定义
- 测试方法实现
- Mock对象配置
- 断言验证
- 测试数据准备

## 生成内容

### 1. 测试类 (Test)
- 测试类名以`Test`结尾
- 使用JUnit 5注解
- 包含所有必要的测试方法
- 完整的JavaDoc注释

### 2. 测试方法
- 根据测试范围生成相应测试方法
- 正常流程测试
- 异常情况测试
- 边界条件测试

### 3. Mock配置
- 使用`@MockBean`或`@Mock`模拟依赖
- Mock对象行为设置
- Mock交互验证
- 测试数据准备

### 4. 断言验证
- 使用AssertJ进行流畅断言
- 返回值验证
- 异常验证
- 状态变化验证

### 5. 测试数据
- 测试数据准备和清理
- 测试配置文件
- 测试工具类
- 测试数据构建器

## 编码规范遵循

本命令严格遵循以下编码规范文件：
- **主要规范**：`02-coding-standards/unit-testing-standards.mdc`

**详细规范**：请参考上述规范文件获取完整要求。

## 使用示例

### 1. 创建服务层单元测试
```bash
/create-test UserService 服务层单元测试，包含正常流程和异常情况
```

### 2. 创建控制器测试
```bash
/create-test UserController 控制器测试，包含API接口测试
```

### 3. 创建全模块测试
```bash
/create-test User 全模块测试，包含所有层的测试
```

## 测试范围说明

### 1. controller - 控制器测试
- API接口测试
- 参数校验测试
- 响应格式测试
- 异常处理测试

### 2. service - 服务层测试
- 业务逻辑测试
- 事务管理测试
- 异常处理测试
- 依赖调用测试

### 3. mapper - 数据访问层测试
- 数据库操作测试
- SQL查询测试
- 数据映射测试
- 事务测试

### 4. all - 全模块测试
- 包含所有层的测试
- 集成测试
- 端到端测试
- 性能测试

## 测试类型

### 1. 单元测试
- 单个方法测试
- 业务逻辑测试
- 异常情况测试
- 边界条件测试

### 2. 集成测试
- 组件集成测试
- 数据库集成测试
- 外部服务集成测试
- 端到端测试

### 3. 性能测试
- 响应时间测试
- 并发性能测试
- 内存使用测试
- 数据库性能测试

## 测试特性
1. **完整性**: 包含所有必要的测试方法
2. **可维护性**: 清晰的测试结构和注释
3. **可读性**: 使用AAA模式和流畅断言
4. **可扩展性**: 支持测试用例扩展
5. **可重复性**: 测试数据隔离和清理

## 技术实现
- **框架**: 使用JUnit 5 + Mockito + AssertJ
- **注解**: 使用Spring Boot测试注解
- **Mock**: 使用Mockito进行依赖模拟
- **断言**: 使用AssertJ进行流畅断言
- **数据**: 使用测试数据构建器

## 注意事项
1. 会根据测试范围生成相应的测试方法
2. 自动配置Mock对象和测试数据
3. 包含完整的测试覆盖
4. 遵循项目的编码规范和测试规范
5. 生成的代码可以直接运行和测试
