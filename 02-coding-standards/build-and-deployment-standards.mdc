---
description: 构建和部署配置标准（Gradle、Docker、环境配置），适用于所有 Spring Boot 项目。
globs:
alwaysApply: true
---

# 构建和部署配置规范

## Gradle构建规范
- 必须使用Gradle 8.x及以上版本进行构建
- 必须配置Java 17/21版本（推荐LTS版本）
- 必须使用Spring Boot插件
- 必须配置正确的依赖管理和版本控制

## 依赖管理规范
- 必须使用Spring Boot BOM管理版本
- 必须使用Hutool工具类库简化开发
- 必须使用Lombok简化代码生成
- 必须使用MyBatis进行数据访问（注解方式）
- 依赖版本必须与Spring Boot版本兼容

## 插件配置规范
- 必须使用Spring Boot插件
- 必须使用Java插件
- 必须使用Gradle插件
- 必须配置正确的插件版本和兼容性

## 仓库配置规范
- 必须配置Maven中央仓库
- 推荐配置阿里云镜像仓库提高下载速度
- 必须配置本地仓库缓存
- 必须配置正确的仓库优先级

## Docker配置规范
- 必须使用OpenJDK 17/21基础镜像
- 必须配置正确的端口暴露
- 必须配置健康检查机制
- 推荐使用多阶段构建优化镜像大小
- 必须设置正确的JVM参数

## 环境配置规范
- 必须支持多环境配置（dev、test、prod）
- 必须使用环境变量配置敏感信息
- 必须配置正确的日志级别
- 必须配置数据库连接参数
- 必须使用外部化配置

## 部署脚本规范
- 必须提供启动脚本
- 必须提供停止脚本
- 必须配置正确的JVM参数
- 必须配置日志输出路径
- 必须支持优雅停机

## 代码质量要求
- 构建配置必须保持简洁清晰
- 必须提供清晰的构建说明文档
- 必须进行构建验证和测试
- 必须提供部署文档和操作手册

## 进一步阅读
- 具体构建配置：`03-code-file-convertions/build-gradle-conventions.mdc`
- 应用配置：`03-code-file-convertions/spring-boot-configuration.mdc`
- 应用启动：`03-code-file-convertions/application-main-class-conventions.mdc`
- 相关基础规则：
  - 命名规范：`02-coding-standards/naming-standards.mdc`
  - 代码风格：`02-coding-standards/code-style-standards.mdc`
  - 编码实践：`02-coding-standards/coding-standards.mdc`